(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,n){},195:function(e,t,n){e.exports=n(380)},200:function(e,t,n){},380:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),i=(n(200),n(383),n(111)),o=n(31),s=(n(203),n(85)),u=n(53),m=n(34),d=n.n(m),f=(n(153),n(68)),p=(n(71),n(25)),b=(n(381),n(187)),E=(n(113),n(69)),v=(n(114),function(e){var t=e.id,n=e.visible,c=e.onCancel,l=(e.onCreate,Object(a.useState)({})),i=Object(o.a)(l,2),s=i[0],u=i[1];return Object(a.useEffect)((function(){d.a.get(""+"/api/users/".concat(t)).then((function(e){u(e.data)})).catch((function(e){console.log(e.message)}))}),[]),r.a.createElement(E.a,{visible:n,title:"USER",okText:"Create",onCancel:c,onOk:c},r.a.createElement("div",null,r.a.createElement("h2",null,s.name)))}),h=(n(166),n(109)),y=(n(167),n(189)),g=(n(384),n(186)),C=n(174),O=(n(382),n(143)),k=(n(277),n(188).a.Item),x=O.a.Option,j=function(e){return function(t){var n=t.field,a=t.form,c=t.hasFeedback,l=t.label,i=t.selectOptions,o=t.submitCount,s=t.type,u=Object(C.a)(t,["field","form","hasFeedback","label","selectOptions","submitCount","type"]),m=a.touched[n.name],d=o>0,f=a.errors[n.name],p=f&&d,b=f&&m;return r.a.createElement("div",{className:"field-container"},r.a.createElement(k,{label:l,hasFeedback:!!(c&&d||c&&m),help:!(!p&&!b)&&f,validateStatus:p||b?"error":"success"},r.a.createElement(e,Object.assign({},n,u,{onBlur:function(){return a.setFieldTouched(n.name,!0)},onChange:s?function(e){var t=e.target.value;return a.setFieldValue(n.name,t)}:function(e){return a.setFieldValue(n.name,e)}}),i&&i.map((function(e){return r.a.createElement(x,{key:e},e)})))))}},S=(j(O.a),j(g.a),j(y.a)),w=(j(h.a),n(49)),A=function(e){var t=e.visible,n=e.onCancel,a=e.onCreate,c=e.handleSubmit;return r.a.createElement(E.a,{visible:t,title:"Enter User Details",okText:"Create",onCancel:n,onOk:a},r.a.createElement(w.c,{initialValues:{name:""},onSubmit:c,render:function(){return r.a.createElement(w.b,{className:"form-container"},r.a.createElement("div",null,r.a.createElement(w.a,{component:S,name:"name",type:"text",placeholder:"Name"})),r.a.createElement("div",{className:"submit-container"},r.a.createElement("button",{className:"ant-btn ant-btn-primary",type:"submit"},"Submit")))}}))},F=function(e){var t=e.name,n=e.userDelete,c=e.id,l=e.getUsers,i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],f=Object(a.useState)(""),E=Object(o.a)(f,2),h=E[0],y=E[1],g=Object(a.useState)(!1),C=Object(o.a)(g,2),O=C[0],k=C[1];return r.a.createElement(b.a,{title:r.a.createElement("h3",null,t),extra:r.a.createElement("button",{onClick:function(){m(!0)}},"view"),style:{margin:"1.5em",backgroundColor:"pink",width:300}},r.a.createElement("div",null,r.a.createElement(p.a,{style:{margin:"0.3em"},type:"primary",onClick:function(){return y(c),void k(!0)}},"Edit"),r.a.createElement(A,{wrappedComponentRef:function(e){e=e},visible:O,onCancel:function(){k(!1)},handleSubmit:function(e,t){d.a.put(""+"/api/users/".concat(h),{name:e.name}).then((function(e){t.resetForm(),k(!1),l()})).catch((function(e){console.log(e.message)}))}}),r.a.createElement(p.a,{style:{margin:"0.3em"},type:"primary",onClick:function(){return n(c)}},"delete"),r.a.createElement(v,{visible:u,onCancel:function(){m(!1)},id:c})))},N=function(e){var t=e.getUsers,n=e.userArray,c=Object(a.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1],u=function(e){d.a.delete(""+"/api/users/".concat(e)).then((function(){t()})).catch((function(e){console.log(e.message)}))};return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement(p.a,{type:"primary",onClick:function(){s(!0)}},"Add User")),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}},r.a.createElement("div",null,r.a.createElement(A,{wrappedComponentRef:function(e){e=e},visible:i,onCancel:function(){s(!1)},handleSubmit:function(e,n){d.a.post("/api/users/",{name:e.name}).then((function(e){n.resetForm(),s(!1),t()})).catch((function(e){console.log(e.message)}))}})),n.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(F,{name:e.name,id:e.id,getUsers:t,userDelete:u}))}))))},U=n(182);function I(){var e=Object(U.a)(["\n    padding: 1em;\n    margin: 1.5em;\n    display: flex;\n    flex-direction: column;\n    flex-basis: 20%;\n    background-color: yellow;"]);return I=function(){return e},e}var _=n(183).a.div(I()),D=function(e){var t=e.text,n=e.userId,a=e.userArray.find((function(e){return e.id===n}));return r.a.createElement(_,null,r.a.createElement("h3",null,t),r.a.createElement("h5",null,a.name),r.a.createElement("div",null,r.a.createElement("button",null,"edit"),r.a.createElement("button",null,"delete")))},T=function(e){var t=e.visible,n=e.onCancel,a=e.onCreate,c=e.handleSubmit;return r.a.createElement(E.a,{visible:t,title:"Create a new post",okText:"Create",onCancel:n,onOk:a},r.a.createElement(w.c,{initialValues:{user_id:"",text:""},onSubmit:c,render:function(){return r.a.createElement(w.b,{className:"form-container"},r.a.createElement("div",null,r.a.createElement(w.a,{component:S,name:"user_id",type:"text",placeholder:"User ID"})),r.a.createElement("div",null,r.a.createElement(w.a,{component:S,name:"text",type:"text",placeholder:"Text"})),r.a.createElement("div",{className:"submit-container"},r.a.createElement("button",{className:"ant-btn ant-btn-primary",type:"submit"},"Submit")))}}))},R=function(e){console.log("production");var t=e.userArray,n=Object(a.useState)([]),c=Object(o.a)(n,2),l=c[0],i=c[1],s=Object(a.useState)(!1),u=Object(o.a)(s,2),m=u[0],f=u[1];return Object(a.useEffect)((function(){d.a.get("/api/posts").then((function(e){i(e.data)})).catch((function(e){console.log(e.message)}))}),[]),r.a.createElement("div",null,r.a.createElement(p.a,{type:"primary",onClick:function(){f(!0)}},"Add Post"),r.a.createElement(T,{wrappedComponentRef:function(e){e=e},visible:m,onCancel:function(){f(!1)},handleSubmit:function(e,t){d.a.post(""+"/api/users/".concat(e.user_id,"/posts/"),{user_id:e.user_id,text:e.text}).then((function(e){t.resetForm(),f(!1)})).catch((function(e){console.log(e.message)}))}}),l.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(D,{text:e.text,userId:e.user_id,userArray:t}))})))},V=s.a.Header,B=s.a.Content,H=s.a.Footer,W="";var J=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],l=function(){d.a.get(W+"/api/users").then((function(e){c(e.data)})).catch((function(e){console.log(e.message)}))};return Object(a.useEffect)((function(){l()}),[]),r.a.createElement(s.a,{className:"layout"},r.a.createElement(V,null,r.a.createElement("div",{className:"logo"}),r.a.createElement(i.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],style:{lineHeight:"64px"}},r.a.createElement(i.a.Item,{key:"1"},r.a.createElement(f.b,{to:"/"},"Users")),r.a.createElement(i.a.Item,{key:"2"},r.a.createElement(f.b,{to:"/posts"},"Posts")))),r.a.createElement(B,{style:{padding:"0 0px"}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:280}},r.a.createElement(u.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(N,Object.assign({},e,{userArray:n,getUsers:l}))}}),r.a.createElement(u.a,{path:"/posts",render:function(e){return r.a.createElement(R,Object.assign({},e,{userArray:n,getUsers:l}))}}))),r.a.createElement(H,{style:{textAlign:"center"}},"Alexander's first monolith"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(f.a,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[195,1,2]]]);
//# sourceMappingURL=main.35799445.chunk.js.map